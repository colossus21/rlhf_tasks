<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Power Memory Game</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        #gameBoard {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
            width: 600px;
            margin: auto;
        }
        .card {
            width: 90px;
            height: 90px;
            background-color: #2c3e50;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            color: transparent;
            cursor: pointer;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 8px;
        }
        .card.flipped {
            transform: rotateY(180deg);
            background-color: #3498db;
            color: white;
        }
        .power-up {
            margin: 20px 5px;
            padding: 10px 15px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            color: white;
        }
        #timer, #score {
            text-align: center;
            font-size: 18px;
        }
        .power-up:nth-child(1) { background: #e74c3c; }
        .power-up:nth-child(2) { background: #2ecc71; }
        .power-up:nth-child(3) { background: #9b59b6; }
        .power-up:nth-child(4) { background: #f39c12; }
    </style>
</head>
<body>

<div id="gameBoard"></div>
<div>
    <button class="power-up" onclick="showAllCards()">Show All (3)</button>
    <button class="power-up" onclick="showMatchingPairs()">Show Pairs (3)</button>
    <button class="power-up" onclick="showThreeCards()">Show 3 (3)</button>
    <button class="power-up" onclick="matchPair()">Auto Match (1)</button>
</div>
<div id="timer">Time: 5:00</div>
<div id="score">Score: 0</div>
<div id="endMessage" style="display:none; text-align:center; font-size:24px; margin-top:20px;"></div>

<script>
    const emojis = ['🚀','🍕','🐱','🌈','🎉','🍔','🍦','🏀','🎸','🐶'];
    let cards = [];
    let flippedCards = [];
    let matchedCount = 0;
    let score = 0;
    let timeLeft = 300; // 5 minutes in seconds
    let timerId;
    let powerUps = {showAll: 3, showPairs: 3, showThree: 3, matchPair: 1};

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function createBoard() {
        const gameBoard = $('#gameBoard');
        let doubleEmojis = [...emojis, ...emojis];
        shuffle(doubleEmojis);
        doubleEmojis.forEach(emoji => {
            gameBoard.append(`<div class="card" data-emoji="${emoji}">${emoji}</div>`);
        });
        $('.card').on('click', flipCard);
    }

    function flipCard() {
        if ($(this).hasClass('flipped') || flippedCards.length >= 2) return;

        $(this).addClass('flipped');
        flippedCards.push($(this));

        if (flippedCards.length === 2) {
            setTimeout(checkForMatch, 1000);
        }
    }

    function checkForMatch() {
        if (flippedCards[0].data('emoji') === flippedCards[1].data('emoji')) {
            flippedCards = [];
            matchedCount++;
            score += 10;
            updateScore();
            if (matchedCount === emojis.length) endGame();
        } else {
            flippedCards.forEach(card => card.removeClass('flipped'));
            flippedCards = [];
            score -= 4;
            updateScore();
        }
    }

    function updateScore() {
        $('#score').text('Score: ' + score);
    }

    function startTimer() {
        timerId = setInterval(() => {
            timeLeft--;
            let minutes = Math.floor(timeLeft / 60);
            let seconds = timeLeft % 60;
            $('#timer').text(`Time: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`);
            if (timeLeft <= 0) endGame();
        }, 1000);
    }

    function endGame() {
        clearInterval(timerId);
        let bonus = timeLeft;
        score += bonus;
        $('#endMessage').text(`Game Over! Your score is ${score}`).show();
        $('#gameBoard').hide();
    }

    // Power-ups functions
    function showAllCards() { /* Implementation */ }
    function showMatchingPairs() { /* Implementation */ }
    function showThreeCards() { /* Implementation */ }
    function matchPair() { /* Implementation */ }

    $(document).ready(function() {
        createBoard();
        startTimer();
    });
</script>

</body>
</html>