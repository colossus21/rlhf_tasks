<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Desert Treasure Hunt</title>
    <style>
        body { font-family: 'Arial', sans-serif; background-color: #f4a460; color: #8b4513; }
        .grid { display: grid; grid-template-columns: repeat(9, 40px); gap: 2px; margin: 20px auto; width: fit-content; }
        .cell { width: 40px; height: 40px; background: #deb887; border: 1px solid #8b4513; display: flex; align-items: center; justify-content: center; font-size: 20px; cursor: pointer; }
        .cell:hover { background: #d2b48c; }
        .player-turn { margin: 10px 0; padding: 10px; text-align: center; }
        .highlight { background-color: rgba(255, 255, 0, 0.3); }
        .clue { text-decoration: none; }
        .clue.strike { text-decoration: line-through; }
        .win-modal { display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.4); }
        .modal-content { background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 80%; text-align: center; }
        button { background-color: #8b4513; color: white; border: none; padding: 10px 20px; margin: 5px; cursor: pointer; }
    </style>
</head>
<body>

<div id="gameContainer">
    <div id="playerTurn" class="player-turn"></div>
    <div class="grid" id="gameGrid"></div>
    <div id="clues"></div>
    <div id="compass">N<br>‚Üë<br>W ‚Üê  ‚Üí E<br>‚Üì<br>S</div>
    <button onclick="newGame()">New Game</button>
</div>

<div id="winModal" class="win-modal">
    <div class="modal-content">
        <h2 id="winMessage"></h2>
        <button onclick="newGame()">Restart Game</button>
    </div>
</div>

<script>
    // Game logic would go here
    document.addEventListener('DOMContentLoaded', function() {
        const grid = document.getElementById('gameGrid');
        const cluesDiv = document.getElementById('clues');
        const playerTurn = document.getElementById('playerTurn');
        let gameState = {
            board: [],
            treasures: [],
            currentPlayer: 1,
            playersScore: [0, 0],
            clues: []
        };

        function initializeGame() {
            const elements = ['üåµ', 'üê™', 'üíÄ', 'üå¥', 'üèúÔ∏è', 'üêç', 'üè∫', 'ü¶Ç', '‚õ∫'];
            gameState.board = Array(9).fill().map(() => Array(9).fill(null));
            // Randomly place elements
            for(let i = 0; i < 9; i++) {
                let row, col;
                do {
                    [row, col] = [Math.floor(Math.random() * 9), Math.floor(Math.random() * 9)];
                } while(gameState.board[row][col] !== null);
                gameState.board[row][col] = elements[i];
            }
            // Place treasures
            gameState.treasures = placeTreasures();
            // Generate clues
            gameState.clues = generateClues();
            renderGame();
        }

        function placeTreasures() {
            return Array(5).fill().map(() => {
                let pos;
                do {
                    pos = [Math.floor(Math.random() * 9), Math.floor(Math.random() * 9)];
                } while(gameState.board[pos[0]][pos[1]] !== null);
                return pos;
            });
        }

        function generateClues() {
            return gameState.treasures.map((treasure, index) => {
                const directions = ['North', 'South', 'East', 'West'];
                const items = ['Cactus', 'Camel', 'Bones', 'Oasis', 'Pyramid', 'Vulture', 'Scorpion', 'Palm Trees', 'Tent'];
                let clue = `Treasure ${index + 1} is hidden `;
                for(let i = 0; i < 3; i++) {
                    let dir = directions[Math.floor(Math.random() * directions.length)];
                    let item = items[Math.floor(Math.random() * items.length)];
                    clue += `${dir} of ${item}, `;
                }
                return clue.slice(0, -2); // Remove trailing comma and space
            });
        }

        function renderGame() {
            grid.innerHTML = ''; // Clear grid
            for(let i = 0; i < 9; i++) {
                for(let j = 0; j < 9; j++) {
                    let cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.textContent = gameState.board[i][j] || '';
                    cell.onclick = () => checkTreasure(i, j);
                    grid.appendChild(cell);
                }
            }
            cluesDiv.innerHTML = gameState.clues.map((clue, i) =>
                `<p class="clue ${gameState.treasures[i].found ? 'strike' : ''}">Clue ${i + 1}: ${clue}</p>`
            ).join('');
            playerTurn.textContent = `Player ${gameState.currentPlayer}'s Turn`;
            playerTurn.className = `player-turn ${gameState.currentPlayer === 1 ? 'highlight' : ''}`;
        }

        function checkTreasure(row, col) {
            const treasure = gameState.treasures.find(t => t[0] === row && t[1] === col);
            if(treasure) {
                treasure.found = true;
                gameState.playersScore[gameState.currentPlayer - 1]++;
                if(gameState.playersScore[gameState.currentPlayer - 1] >= 3) {
                    endGame();
                    return;
                }
                // Mark as found
                renderGame();
            } else {
                // Mark as incorrect with a cross or similar
                grid.children[row * 9 + col].textContent = '‚ùå';
            }
            gameState.currentPlayer = gameState.currentPlayer === 1 ? 2 : 1;
            renderGame();
        }

        function endGame() {
            document.getElementById('winMessage').textContent = `Player ${gameState.currentPlayer} wins!`;
            document.getElementById('winModal').style.display = 'block';
        }

        function newGame() {
            document.getElementById('winModal').style.display = 'none';
            initializeGame();
        }

        initializeGame();
    });
</script>
</body>
</html>