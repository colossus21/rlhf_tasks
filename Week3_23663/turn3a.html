<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cricket Card Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        #game-info {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-bottom: 20px;
        }
        #cards {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        .card {
            width: 100px;
            height: 150px;
            background-color: blue;
            border: 1px solid #ccc;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            cursor: pointer;
            color: white;
        }
        .card.revealed {
            background-color: white;
            color: black;
        }
        .card.run { background-color: lightblue; }
        .card.out { background-color: lightcoral; }
        .card.wide { background-color: lightgray; }
        #message {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
<div id="game-info">
    <div id="player-info">Player 1: 0 runs</div>
    <div id="over-info">Over: 0.0 (1 over match)</div>
</div>
<div id="cards"></div>
<button id="start-game">Start Game</button>
<div id="message"></div>

<audio id="runsSound">
    <source src="runs.wav" type="audio/wav">
</audio>
<audio id="sixSound">
    <source src="6.wav" type="audio/wav">
</audio>
<audio id="boldSound">
    <source src="bold.wav" type="audio/wav">
</audio>
<audio id="catchSound">
    <source src="catch.wav" type="audio/wav">
</audio>
<audio id="wideSound">
    <source src="wide.wav" type="audio/wav">
</audio>
<audio id="crowdSound">
    <source src="crowd.wav" type="audio/wav">
</audio>

<script>
    const cardValues = ['1', '2', '3', '4', '6', 'Wide', 'Catch Out', 'Bold Out'];
    let currentPlayer = 1;
    let currentBalls = 0;
    let player1Score = 0;
    let player2Score = 0;
    let gameStarted = false;
    let isWideActive = false;
    let targetScore = 0;
    let firstBatsman = -1;

    const playerInfo = document.getElementById('player-info');
    const overInfo = document.getElementById('over-info');
    const cardsContainer = document.getElementById('cards');
    const startButton = document.getElementById('start-game');
    const messageElement = document.getElementById('message');

    // Audio elements
    const runsSound = document.getElementById('runsSound');
    const sixSound = document.getElementById('sixSound');
    const boldSound = document.getElementById('boldSound');
    const catchSound = document.getElementById('catchSound');
    const wideSound = document.getElementById('wideSound');
    const crowdSound = document.getElementById('crowdSound');

    function playSound(sound) {
        sound.currentTime = 0;
        sound.play();
    }

    // ... (Previous functions remain largely the same, updated for sound and game end conditions)

    function handleCardValue(value) {
        if (['Catch Out', 'Bold Out'].includes(value)) {
            playSound(value === 'Catch Out' ? catchSound : boldSound);
            endInnings();
        } else if (value === 'Wide') {
            playSound(wideSound);
            addRuns(1);
            isWideActive = true;
        } else {
            addRuns(parseInt(value));
            currentBalls++;
            if (value === '6') {
                playSound(sixSound);
            } else {
                playSound(runsSound);
            }
        }

        if (currentBalls === 6 || (currentPlayer === 2 && player2Score >= targetScore)) {
            endInnings();
        }
    }

    function endInnings() {
        if (currentPlayer === 2 && player2Score >= targetScore) {
            let ballsRemaining = 6 - currentBalls;
            messageElement.textContent = `Player 2 wins with ${ballsRemaining} ball${ballsRemaining > 1 ? 's' : ''} remaining!`;
            playSound(crowdSound);
            endGame();
            return;
        }
        // ... (rest of the function for normal innings end)
    }

    function endGame() {
        if (currentPlayer === 2 && player2Score < targetScore) {
            let runDifference = targetScore - player2Score;
            messageElement.textContent = `Player 1 wins by ${runDifference} run${runDifference > 1 ? 's' : ''}!`;
        }
        playSound(crowdSound);
        // ... (existing endGame logic)
    }

    // ... (rest of your JavaScript code)

    startButton.addEventListener('click', startGame);
    createCards();
</script>
</body>
</html>